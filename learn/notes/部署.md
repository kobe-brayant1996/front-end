## 构建流程

### 文件结构

+ 构建流程首先定义在源代码控制中存储文件的逻辑结构

+ 把代码分散到多个文件是从可维护性而不是部署角度出发的
+ 对于部署，应该把所有源文件合并为一个或多个汇总文件



### 任务运行器

+ 如果要把大量文件组合成一个应用程序，很可能需要任务运行器自动完成一些任务
+ 任务运行器可以完成代码检查、打包、转译、启动本地服务器、部署，以及其他可以脚本化的任务

### Tree Shaking

+ 非常常见且极为有效的减少冗余代码的策略
+ 使用静态模块声明风格意味着构建工具可以确定代码各部分之间的依赖关系
+ `Tree Shaking`还能确定代码中的哪些内容是完全不需要的



### 模块打包器

+ 大量模块组成的`JavaScript`代码在构建时需要打包到一起，然后只交付一个或少数几个`JavaScript`文件
+ 模块打包器的工作是识别应用程序中涉及的`JavaScript`依赖关系，
+ 将它们组合成一个大文件，完成对模块的串行组织和拼接，
+ 然后生成最终提供给浏览器的输出文件.

## 验证

+ 在开发过程中添加代码检查工具有助于避免出错。推荐开发者在构建流程中也加入代码检查环节，以便在潜在问题成为错误之前识别它们



## 压缩

谈到`JavaScript`文件压缩，实际上主要是两件事：**代码大小（code size）**和**传输负载（wire weight）**

### 代码压缩

+ `JavaScript`不是编译成字节码，而是作为**源代码**传输的
+ 源代码文件通常包含对浏览器的`JavaScript`解释器没有用的额外信息和格式
+ `JavaScript`压缩工具可以把源代码文件中的这些信息删除，并在保证程序逻辑不变的前提下缩小文件大小
  + 删除空格（包括换行）;
  + 删除注释；
  + 缩短变量名、函数名和其他标识符.

### `JavaScript`  编译

`JavaScript`代码编译通常指的是把源代码转换为一种逻辑相同但字节更少的形式

+ 删除未使用的代码
+ 将某些代码转换为更简洁的语法
+ 全局函数调用、常量和变量行内化



### `JavaScript` 转译

我们提交到项目仓库中的代码与浏览器中运行的代码不一样

+ 通过`JavaScript`转译，可以在开发时使用最新的语法特性而不用担心浏览器的兼容性问题



### HTTP 压缩

+ 传输负载是从服务器发送给浏览器的实际字节数
+ 服务器（**Accept-Encoding**）和浏览器（**Content-Encoding**）都具有压缩能力
+ 减少通过网络传输的数据量意味着浏览器能更快收到数据
+ 服务器压缩和浏览器解压缩都需要时间